<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Lights!</title>
		<script type="module" crossorigin src="/assets/index-CI567PB1.js"></script>
		<link rel="stylesheet" crossorigin href="/assets/index-CnKFGtcm.css">
	</head>

	<body>
		<div id="settings-flex">
			<button id="hide-settings">Hide Settings</button>
			<div id="settings">
				<div class="setting-row">
					<label>Choose mode</label>
					<select id="mode">
						<option value="lyrics">Lyrics</option>
						<option value="video">Video</option>
						<option value="playable1">Playable 1</option>
						<option value="playable2">Playable 2</option>
					</select>
					<img src="help.svg" />
					<span class="tooltiptext">Here you can switch between different modes, these are in development with more to be added. You might need to upload video or audio files to see the experience. Video needed for: Video and Playable2 modes Audio needed for: Lyrics mode None needed for: Playable1 </span>
				</div>

				<div class="setting-row">
					<label id="video-button" for="video-upload">Upload Video File</label>
					<label id="video-name" for="video-upload">No file</label>
					<input id="video-upload" type="file" accept="video/*" hidden />
					<img src="help.svg" />
					<span class="tooltiptext">Upload a video to start the light show. The video data is only used locally so you don't have to worry about privacy.</span>
				</div>
				<div class="setting-row">
					<label id="audio-button" for="audio-upload">Upload Audio File</label>
					<label id="audio-name" for="audio-upload">No file</label>
					<input id="audio-upload" type="file" accept="audio/*" hidden />
					<img src="help.svg" />
					<span class="tooltiptext">For the lyrics mode upload an audio file with this naming convention for it to correctly work: songname-artist.mp3</span>
				</div>

				<button id="play-pause">Play / Pause</button>

				<div class="setting-row">
					<label>Volume</label>
					<input id="video-volume" type="range" min="0" max="1" step="0.01" value="0.5" />
				</div>
				<div class="setting-row">
					<label>Video scale</label>
					<input id="video-scale" type="range" min="0" max="1" step="0.05" value="0.5" />
				</div>
				<div class="setting-row">
					<label>Text scale</label>
					<input id="text-scale" type="range" min="0" max="2" step="0.05" value="0.5" />
				</div>
				<div class="setting-row">
					<label>Radiance modifier</label>
					<input id="radiance-modifier" type="range" min="0" max="2" step="0.1" value="1" />
				</div>
				<div class="setting-row">
					<label for="fix-edges">Fix blocky edges</label>
					<input id="fix-edges" type="checkbox" />
				</div>

				<div class="setting-row">
					<label for="enable-rc">Enable Radiance Cascades</label>
					<input id="enable-rc" type="checkbox" />
					<img src="help.svg" />
					<span class="tooltiptext">Radiance Cascades is a noise free algorithm to achieve global illumination created by Alexander Sannikov. This 2D implementation is based on Yaazarai's RC code. More info on Github. It is better from naive ray marching in a sense that there is no noise (it looks better, subjectively of course) and runs even faster with the below '2 pass optimization' checkbox selected</span>
				</div>
				<div class="setting-row rc-collapse">
					<label for="2-pass-optimization">2 pass optimization</label>
					<input id="2-pass-optimization" type="checkbox" />
					<img src="help.svg" />
					<span class="tooltiptext">If performance is an issue, enable this. The cascade calculation happens in 2 passes, meaning if the overlay is 60 fps, the lighting is calculated at 30 fps. Because the overlay and the light are calculated at different speeds, there will be artifacts where the previous frame is visible for a split second.</span>
				</div>
				<div class="setting-row rc-collapse">
					<label for="bilinear-fix">Bilinear Fix</label>
					<input id="bilinear-fix" type="checkbox" />
					<img src="help.svg" />
					<span class="tooltiptext">Fixes the ringing artifacts in RC, but brings down performance as more rays are cast</span>
				</div>
			</div>
		</div>
	</body>
</html>
