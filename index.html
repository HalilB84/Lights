<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Lights!</title>
		<link rel="stylesheet" href="styles.css" />
	</head>

	<body>
		<div id="settings-flex">
			<button id="hide-settings">Hide Settings</button>
			<div id="settings">
				<div class="setting-row">
					<label>Choose mode</label>
					<select id="mode">
						<option value="lyrics">Lyrics</option>
						<option value="video">Video</option>
						<option value="playable1">Playable 1</option>
						<option value="playable2">Playable 2</option>
					</select>
					<img src="help.svg" />
					<span class="tooltiptext">Here you can switch between different modes, these are in development with more to be added.</span>
				</div>

				<div class="setting-row">
					<label id="video-button" for="video-upload">Upload Video File</label>
					<label id="video-name" for="video-upload">No file</label>
					<input id="video-upload" type="file" accept="video/*" hidden />
					<img src="help.svg" />
					<span class="tooltiptext">Upload a video to start the light show. Important note: Wallpaper Engine only supports .webm and .ogv files but only .webm works properly.</span>
				</div>

				<div class="setting-row">
					<label id="audio-button" for="audio-upload">Upload Audio File</label>
					<label id="audio-name" for="audio-upload">No file</label>
					<input id="audio-upload" type="file" accept="audio/*" hidden />
					<img src="help.svg" />
					<span class="tooltiptext">For the lyrics mode upload an audio file with this naming convention for it to correctly work: songname-artist.mp3</span>
				</div>

				<button id="play-pause">Play / Pause</button>

				<div class="setting-row">
					<label>Volume</label>
					<input id="video-volume" type="range" min="0" max="1" step="0.001" />
					<span class="range-value" id="vv-value">50</span>
				</div>
				<div class="setting-row">
					<label>Video scale</label>
					<input id="video-scale" type="range" min="0" max="1" step="0.001" />
					<span class="range-value" id="vs-value">50</span>
				</div>
				<div class="setting-row">
					<label>Text scale</label>
					<input id="text-scale" type="range" min="0" max="3" step="0.001" />
					<span class="range-value" id="ts-value">100</span>
				</div>
				<div class="setting-row">
					<label>Radiance</label>
					<input id="radiance-modifier" type="range" min="0" max="2" step="0.001" />
					<span class="range-value" id="rm-value">100</span>
				</div>
				<div class="setting-row">
					<label for="show-fps">Show FPS</label>
					<input id="show-fps" type="checkbox" />
				</div>
				<div class="setting-row">
					<label for="fix-edges">Fix blocky edges</label>
					<input id="fix-edges" type="checkbox" />
				</div>
				<div class="setting-row">
					<label for="enable-rc">Enable Radiance Cascades</label>
					<input id="enable-rc" type="checkbox" />
					<img src="help.svg" />
					<span class="tooltiptext">Radiance Cascades is a global illumination technique that runs faster and doesn't have noise. Checking off this checkbox will default to shooting N random rays per pixel, however keeping it on for lighting is recommended for better performance and looks. Technical details on this can be found on Github. </span>
				</div>
				<div class="setting-row rc-collapse">
					<label for="2-pass-optimization">2 pass optimization</label>
					<input id="2-pass-optimization" type="checkbox" />
					<img src="help.svg" />
					<span class="tooltiptext">If performance is an issue, enable this. The cascade calculation happens in 2 passes, meaning if the overlay is 60 fps, the lighting is calculated at 30 fps. Because the overlay and the light are calculated at different speeds, there will be artifacts where the previous frame is visible for a split second.</span>
				</div>
				<div class="setting-row rc-collapse">
					<label for="bilinear-fix">Bilinear Fix</label>
					<input id="bilinear-fix" type="checkbox" />
					<img src="help.svg" />
					<span class="tooltiptext">Fixes the ringing artifacts in RC, but brings down performance as more rays are cast</span>
				</div>
				<div class="setting-row rc-collapse">
					<label for="srgb-fix">SRGB Fix</label>
					<input id="srgb-fix" type="checkbox" />
					<img src="help.svg" />
					<span class="tooltiptext">Lighting calculations needs to happen in linear space but textures are in srgb space, this makes that conversion. The reason its off by default is because it makes the ringing artifacts way more visible. There is a good chance that this is not working as intended.</span>
				</div>
			</div>
		</div>
		<script type="module" src="src/state.js"></script>
	</body>
</html>
